<?xml version="1.0" encoding="UTF-8"?>
<ecore:EPackage
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore"
    name="libraryModel_ecore"
    nsURI="http://www.example.org/libraryModel_ecore"
    nsPrefix="libraryModel_ecore">
  <eAnnotations
      source="prepareApplication">
    <details
        key="sourceCodeMain"
        value="&#x9;// Create new Library Model instance&#xA;    std::shared_ptr&lt;LibraryModel> lm = factory->createLibraryModel();&#xA;&#xA;    std::shared_ptr&lt;Book> book = factory->createBook_in_Library(lm);&#xA;    book->setName(&quot;Magritte&quot;);&#xA;&#xA;    std::shared_ptr&lt;Author> author = factory->createAuthor();&#xA;    author->setName(&quot;David Sylvester&quot;);&#xA;    book->getAuthors()->add(author);&#xA;&#xA;    std::shared_ptr&lt;Picture> picture = factory->createPicture_in_Book(book);&#xA;    picture->setName(&quot;Der Verrat der Binder (La trahison des images), 1929: l, 60x82 cm&quot;);&#xA;    picture->setPageNumber(212);&#xA;&#xA;    lm->printLibrary();"/>
  </eAnnotations>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="Book"
      eSuperTypes="#//NamedElement">
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="authors"
        upperBound="-1"
        eType="#//Author"/>
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="library"
        eType="#//LibraryModel"
        eOpposite="#//LibraryModel/book"/>
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="pictures"
        upperBound="-1"
        eType="#//Picture"
        containment="true"
        eOpposite="#//Picture/book"/>
  </eClassifiers>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="Author"
      eSuperTypes="#//NamedElement"/>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="LibraryModel">
    <eAnnotations
        source="http://sse.tu-ilmenau.de/codegen">
      <details
          key="includes"
          value="#include &quot;libraryModel_ecore/Picture.hpp&quot;"/>
    </eAnnotations>
    <eOperations
        name="printLibrary">
      <eAnnotations
          source="http://sse.tu-ilmenau.de/codegen">
        <details
            key="body"
            value="&#x9;std::shared_ptr&lt;Bag&lt;libraryModel_ecore::Book>> books = this->getBook();&#xA;&#xA;&#x9;for(Bag&lt;libraryModel_ecore::Book>::const_iterator it=books->begin(); it!=books->end(); it++)&#xA;&#x9;{&#xA;&#x9;&#x9;std::cout &lt;&lt; &quot;The book &quot; &lt;&lt; (*it)->getName() &lt;&lt; std::endl;&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::cout &lt;&lt; &quot;\twas written by:&quot; &lt;&lt; std::endl;&#xA;&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt; Bag&lt;Author> > authors= (*it)->getAuthors();&#xA;&#x9;&#x9;&#x9;for(Bag&lt;Author>::const_iterator itA=authors->begin();itA!=authors->end();itA++)&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;std::cout &lt;&lt; &quot;\t\t- &quot; &lt;&lt; (*itA)->getName() &lt;&lt; std::endl;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;std::cout &lt;&lt; &quot;\tIndex of Figures:&quot; &lt;&lt; std::endl;&#xA;&#xA;&#x9;&#x9;&#x9;std::shared_ptr&lt; Bag&lt;Picture> > pictures= (*it)->getPictures();&#xA;&#x9;&#x9;&#x9;for(Bag&lt;Picture>::const_iterator itP=pictures->begin();itP!=pictures->end();itP++)&#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;std::cout &lt;&lt; &quot;\t\t- &quot; &lt;&lt; (*itP)->getName() &lt;&lt; &quot; - Page number: &quot;&lt;&lt; (*itP)->getPageNumber() &lt;&lt; std::endl;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#x9;}"/>
      </eAnnotations>
    </eOperations>
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="book"
        upperBound="-1"
        eType="#//Book"
        containment="true"
        eOpposite="#//Book/library"/>
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="authors"
        upperBound="-1"
        eType="#//Author"
        containment="true"/>
  </eClassifiers>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="NamedElement">
    <eStructuralFeatures
        xsi:type="ecore:EAttribute"
        name="Name"
        eType="ecore:EDataType platform:/plugin/org.eclipse.uml2.types/model/Types.ecore#//String"/>
  </eClassifiers>
  <eClassifiers
      xsi:type="ecore:EClass"
      name="Picture"
      eSuperTypes="#//NamedElement">
    <eStructuralFeatures
        xsi:type="ecore:EReference"
        name="book"
        eType="#//Book"
        eOpposite="#//Book/pictures"/>
    <eStructuralFeatures
        xsi:type="ecore:EAttribute"
        name="pageNumber"
        eType="ecore:EDataType platform:/plugin/org.eclipse.uml2.types/model/Types.ecore#//Integer"/>
  </eClassifiers>
</ecore:EPackage>
