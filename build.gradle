description 'Ecore meta models collection'

task buildEcore(dependsOn: ['ecore:model:generateEcore', 'compileEcore']) {
	group 'ecore'
	description 'generate and compile ecore in debug and release'
}
task buildEcoreDebug(dependsOn: ['ecore:model:generateEcore', 'ecore:src_gen:compileEcoreDebug']) {
	group 'ecore'
	description 'generate and compile ecore in debug'
}
task buildEcoreRelease(dependsOn: ['ecore:model:generateEcore', 'ecore:src_gen:compileEcoreRelease']) {
	group 'ecore'
	description 'generate and compile ecore in release'
}

task buildTypes(dependsOn: ['types:model:generateTypes', 'types:src_gen:compileTypes']) {
	group 'types'
	description 'generate and compile types in debug and release'
}
task buildTypesDebug(dependsOn: ['types:model:generateTypes', 'types:src_gen:compileTypesDebug']) {
	group 'types'
	description 'generate and compile types in debug'
}
task buildTypesRelease(dependsOn: ['types:model:generateTypes', 'types:src_gen:compileTypesRelease']) {
	group 'types'
	description 'generate and compile types in release'
}

task compileEcore(dependsOn: 'ecore:src_gen:ecore:build') {
	group 'ecore'
	description 'compile ecore in debug and release'
}
task compileEcoreDebug(dependsOn: ['ecore:src_gen:ecore:ecoreDebugSharedLibrary', 'ecore:src_gen:ecore:deliverEcoreHeaders', 'ecore:src_gen:ecore:deliverEcoreDebugSharedLibrary']) {
	group 'ecore'
	description 'compile ecore in debug'
}
task compileEcoreRelease(dependsOn: ['ecore:src_gen:ecore:ecoreReleaseSharedLibrary', 'ecore:src_gen:ecore:deliverEcoreHeaders', 'ecore:src_gen:ecore:deliverEcoreReleaseSharedLibrary']) {
	group 'ecore'
	description 'compile ecore in release'
}

task compileTypes(dependsOn: 'types:src_gen:types:build') {
	group 'types'
	description 'compile types in debug and release'
}
task compileTypesDebug(dependsOn: ['types:src_gen:types:typesDebugSharedLibrary', 'types:src_gen:types:deliverTypesHeaders', 'types:src_gen:types:deliverTypesDebugSharedLibrary']) {
	group 'types'
	description 'compile types in debug'
}
task compileTypesRelease(dependsOn: ['types:src_gen:types:typesReleaseSharedLibrary', 'types:src_gen:types:deliverTypesHeaders', 'types:src_gen:types:deliverTypesReleaseSharedLibrary']) {
	group 'types'
	description 'compile types in release'
}

compileTypes.mustRunAfter compileEcore
compileTypesDebug.mustRunAfter compileEcoreDebug
compileTypesRelease.mustRunAfter compileEcoreRelease


compileEcore.mustRunAfter tasks.getByPath('ecore:model:generateEcore')
compileEcoreDebug.mustRunAfter tasks.getByPath('ecore:model:generateEcore')
compileEcoreRelease.mustRunAfter tasks.getByPath('ecore:model:generateEcore')
compileTypes.mustRunAfter tasks.getByPath('types:model:generateTypes')
compileTypesDebug.mustRunAfter tasks.getByPath('types:model:generateTypes')
compileTypesRelease.mustRunAfter tasks.getByPath('types:model:generateTypes')

tasks.getByPath('ecore:src_gen:ecore:deliverEcoreHeaders').mustRunAfter tasks.getByPath('ecore:src_gen:ecore:ecoreDebugSharedLibrary')
tasks.getByPath('ecore:src_gen:ecore:deliverEcoreDebugSharedLibrary').mustRunAfter tasks.getByPath('ecore:src_gen:ecore:ecoreDebugSharedLibrary')
tasks.getByPath('ecore:src_gen:ecore:deliverEcoreHeaders').mustRunAfter tasks.getByPath('ecore:src_gen:ecore:ecoreReleaseSharedLibrary')
tasks.getByPath('ecore:src_gen:ecore:deliverEcoreReleaseSharedLibrary').mustRunAfter tasks.getByPath('ecore:src_gen:ecore:ecoreReleaseSharedLibrary')
tasks.getByPath('types:src_gen:types:deliverTypesHeaders').mustRunAfter tasks.getByPath('types:src_gen:types:typesDebugSharedLibrary')
tasks.getByPath('types:src_gen:types:deliverTypesDebugSharedLibrary').mustRunAfter tasks.getByPath('types:src_gen:types:typesDebugSharedLibrary')
tasks.getByPath('types:src_gen:types:deliverTypesHeaders').mustRunAfter tasks.getByPath('types:src_gen:types:typesReleaseSharedLibrary')
tasks.getByPath('types:src_gen:types:deliverTypesReleaseSharedLibrary').mustRunAfter tasks.getByPath('types:src_gen:types:typesReleaseSharedLibrary')