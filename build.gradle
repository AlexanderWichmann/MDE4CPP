description 'Example collection'

task buildAllExamples() {
	group 'Examples'
	description 'build all example applications'	
	
	// benchmarks
	dependsOn getRootProject().getTasksByName('compileEcoreBenchmark', true)
	dependsOn getRootProject().getTasksByName('compileMemoryBenchmarkEcore', true)
	dependsOn getRootProject().getTasksByName('compileUMLBenchmark', true)
	
	// common examples
	dependsOn getRootProject().getTasksByName('compileExamplePersistence', true)
	dependsOn getRootProject().getTasksByName('compileExamplePluginFramework', true)
	
	// ecore examples
	dependsOn getRootProject().getTasksByName('compileEcoreExample', true)
	dependsOn getRootProject().getTasksByName('buildLibraryModel_ecore', true)
	
	// fuml examples
	dependsOn getRootProject().getTasksByName('buildCalcModel', true)
	dependsOn getRootProject().getTasksByName('buildFUMLMultiplePins', true)
	
	// uml examples
	dependsOn getRootProject().getTasksByName('compileUMLExample', true)
	dependsOn getRootProject().getTasksByName('buildLibraryModel_uml', true)
}

task buildAllModelExamples() {
	group 'Examples'
	description 'build all model example applications'	
	
	//dependsOn getRootProject().getTasksByName('buildSubsetUnionBenchmark', true)
	dependsOn getRootProject().getTasksByName('buildLibraryModel_ecore', true)
	dependsOn getRootProject().getTasksByName('buildCalcModel', true)
	dependsOn getRootProject().getTasksByName('buildForkNodeTest', true)
	dependsOn getRootProject().getTasksByName('buildFUMLMultiplePins', true)
	dependsOn getRootProject().getTasksByName('buildLibraryModel_uml', true)
}

task generateAllModelExamples() {
	group 'Examples'
	description 'generate all model examples using there generate.bat file'	
	
	dependsOn getRootProject().getTasksByName('createAllGenerators', true)
	
    doLast {
		exec
		{
			workingDir = file('./benchmarks/SubsetUnionBenchmark/model/')
			commandLine = ['cmd', '/C', 'generate.bat']
		}
    }	
    doLast {
		exec
		{
			workingDir = file('./ecoreExamples/ecoreModelExample/model/')
			commandLine = ['cmd', '/C', 'generate.bat']
		}
    }	
    doLast {
		exec
		{
			workingDir = file('./fUMLExamples/Calculator/model/')
			commandLine = ['cmd', '/C', 'generate.bat']
		}
    }	
    doLast {
		exec
		{
			workingDir = file('./fUMLExamples/ForkNodeTest/model/')
			commandLine = ['cmd', '/C', 'generate.bat']
		}
    }	
    doLast {
		exec
		{
			workingDir = file('./fUMLExamples/MultiplePins/model/')
			commandLine = ['cmd', '/C', 'generate.bat']
		}
    }	
    doLast {
		exec
		{
			workingDir = file('./UMLExamples/UMLModelExample/model/')
			commandLine = ['cmd', '/C', 'generate.bat']
		}
    }
}